{% extends 'users/base.html' %}

{% block title %}
Attendance Records
{% endblock title %}

{% block custom_css %}
<!-- Add custom CSS here if needed -->
{% endblock custom_css %}

{% block page_content %}
    <h1 style="text-align: center; font-size: 2em; margin-bottom: 20px;">Your Attendance Records</h1>
    <table style="width: 100%; border-collapse: collapse; background-color: white; border: 1px solid #ddd;">
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th style="padding: 10px; text-align: left;">Date</th>
                <th style="padding: 10px; text-align: left;">Clock In</th>
                <th style="padding: 10px; text-align: left;">Clock Out</th>
                <th style="padding: 10px; text-align: left;">Status</th>
                <th style="padding: 10px; text-align: left;">Correction Requested</th>
                <th style="padding: 10px; text-align: left;">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for attendance in attendances %}
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 10px;">{{ attendance.date }}</td>
                    <td style="padding: 10px;">{{ attendance.clock_in }}</td>
                    <td style="padding: 10px;">{{ attendance.clock_out }}</td>
                    <td style="padding: 10px;">{{ attendance.status }}</td>
                    <td style="padding: 10px;">{{ attendance.correction_requested }}</td>
                    <td style="padding: 10px;">
                        {% if not attendance.correction_requested %}
                            <a href="{% url 'request_correction' company.id attendance.id %}" style="color: #007BFF; text-decoration: none;">Request Correction</a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock page_content %}
